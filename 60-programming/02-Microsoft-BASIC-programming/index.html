
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Altair 8800 Emulator">
      
      
        <meta name="author" content="Dave Glover">
      
      
      
        <link rel="prev" href="../01-i8080-IO-Ports/">
      
      
        <link rel="next" href="../03-C-programming/">
      
      
      <link rel="icon" href="../../media/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Microsoft BASIC - Altair 8800 Emulator</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#get-started-with-microsoft-basic-80" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Altair 8800 Emulator" class="md-header__button md-logo" aria-label="Altair 8800 Emulator" data-md-component="logo">
      
  <img src="../../media/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Altair 8800 Emulator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Microsoft BASIC
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/gloveboxes/Altair-8800-Emulator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Altair 8800 Emulator
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Altair 8800 Emulator" class="md-nav__button md-logo" aria-label="Altair 8800 Emulator" data-md-component="logo">
      
  <img src="../../media/favicon.ico" alt="logo">

    </a>
    Altair 8800 Emulator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gloveboxes/Altair-8800-Emulator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Altair 8800 Emulator
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../navigating-the-docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navigating the Docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Fundamentals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/05-Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/10-deployment-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/23-Altair-emulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/25-Web-Terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the Web Terminal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/30-introduction-cpm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Learn about CP/M
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-fundamentals/40-Rebooting-the-Altair/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rebooting the Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deploy with Docker
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deploy with Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-deploy-with-docker/10-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-deploy-with-docker/15-install-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-deploy-with-docker/17-start-container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build from source
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Build from source
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/01-Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Install Prerequisites
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Install Prerequisites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/Install%20prerequisites/01-Linux-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/Install%20prerequisites/02-macOS-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    macOS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/Install%20prerequisites/03-Windows-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/Install%20prerequisites/04-Raspberry-Pi-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi OS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/02-Clone-Altair-repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clone the Altair repo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/03-Build-from-vs-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build from Visual Studio Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/04-Compile-from-CLI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build from the Command Line
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../45-build-from-source/05-Run-the-emulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Program the Altair
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Program the Altair
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-Manuals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manuals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-Vibe-Coding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vibe Coding the Altair
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-Editing-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Editing Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-i8080-IO-Ports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel 8080 IO Ports
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Microsoft BASIC
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Microsoft BASIC
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#get-started-with-microsoft-basic-80" class="md-nav__link">
    <span class="md-ellipsis">
      Get started with Microsoft BASIC-80
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-text-colors" class="md-nav__link">
    <span class="md-ellipsis">
      Setting text colors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-intel-8080-input-and-output-ports" class="md-nav__link">
    <span class="md-ellipsis">
      Use Intel 8080 input and output ports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-anomaly-weather-data" class="md-nav__link">
    <span class="md-ellipsis">
      Generating anomaly weather data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#font-support" class="md-nav__link">
    <span class="md-ellipsis">
      Font support
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-C-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C Programming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-Assembly-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel 8080 Assembler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-Altair-BASIC-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Altair BASIC Programming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-Front-panel-programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Front Panel Programming
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Docker Images
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Docker Images
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-deploy-with-docker/100-Create-Docker-images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build Docker Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Run on Azure Sphere
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Run on Azure Sphere
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/03-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deploy the Altair
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Deploy the Altair
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/01-Deployment-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/02-Clone-Altair-repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clone the Altair repo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/03-Deploy-prebuilt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Pre-built Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/04-WiFi-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wi-Fi Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/05-Create-boot-SD-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create a Boot SD Card
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/06-Power-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/01-Deploy-the-Altair/07-Connect-Altair-web-terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect Altair Web Terminal
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cloud services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Cloud services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/Cloud-services/01-Add-cloud-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding Cloud Services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Compile and Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            Compile and Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/Compile-and-deploy/01-Install-developer-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Developer Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/Compile-and-deploy/02-Deploy-the-Altair-to-Azure-Sphere/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy the Altair Emulator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../50-azsphere/40-Manage-disk-images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Disk Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#get-started-with-microsoft-basic-80" class="md-nav__link">
    <span class="md-ellipsis">
      Get started with Microsoft BASIC-80
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-text-colors" class="md-nav__link">
    <span class="md-ellipsis">
      Setting text colors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-intel-8080-input-and-output-ports" class="md-nav__link">
    <span class="md-ellipsis">
      Use Intel 8080 input and output ports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-anomaly-weather-data" class="md-nav__link">
    <span class="md-ellipsis">
      Generating anomaly weather data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#font-support" class="md-nav__link">
    <span class="md-ellipsis">
      Font support
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Microsoft BASIC</h1>

<p>Bill Gates and Paul Allen wrote <a href="https://en.wikipedia.org/wiki/Altair_BASIC?azure-portal=true" target="_blank">Altair BASIC</a>. It was Microsoft's first product. Later, Microsoft released Microsoft BASIC for CP/M, see the <a href="https://github.com/AzureSphereCloudEnabledAltair8800/Altair8800.manuals/blob/master/AA-P226A-TV_BASIC-80_Reference_Manual_VT180_V5.21_1981.pdf?azure-portal=true" target="_blank">Microsoft BASIC-80 reference manual</a>.</p>
<p>In the following exercise, you'll learn how to write your first Microsoft BASIC application.</p>
<h2 id="get-started-with-microsoft-basic-80">Get started with Microsoft BASIC-80<a class="headerlink" href="#get-started-with-microsoft-basic-80" title="Permanent link">&para;</a></h2>
<p>Microsoft BASIC-80 is included on drive A.</p>
<ol>
<li>
<p>Switch back to the web terminal in your web browser.</p>
</li>
<li>
<p>From the CP/M command prompt, run the following command to start Microsoft BASIC.</p>
<div class="highlight"><pre><span></span><code>mbasic
</code></pre></div>
</li>
<li>
<p>Run an interactive command</p>
<div class="highlight"><pre><span></span><code><span class="vg">print</span><span class="w"> </span><span class="s2">&quot;Hello, world!&quot;</span>
</code></pre></div>
<p>The BASIC interpreter with execute the command immediately and display <strong>Hello, World!</strong>.</p>
</li>
<li>
<p>Enter your first program:</p>
<div class="highlight"><pre><span></span><code><span class="nl">10</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="vg">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="il">1000000</span>
<span class="nl">20</span><span class="w"> </span><span class="vg">print</span><span class="w"> </span><span class="vg">i</span>
<span class="nl">30</span><span class="w"> </span><span class="vg">next</span><span class="w"> </span><span class="vg">i</span>
</code></pre></div>
</li>
<li>
<p>Run your program</p>
<div class="highlight"><pre><span></span><code><span class="vg">run</span>
</code></pre></div>
</li>
<li>
<p>Stop the program by selecting <strong>Ctrl+C</strong>.</p>
</li>
<li>
<p>Save your program to disk:</p>
<div class="highlight"><pre><span></span><code><span class="vg">save</span><span class="w"> </span><span class="s2">&quot;TEST.BAS&quot;</span>
</code></pre></div>
<blockquote>
<p>Name all files using <strong>CAPITAL LETTERS</strong>.</p>
</blockquote>
</li>
<li>
<p>Load your program from disk:</p>
<div class="highlight"><pre><span></span><code><span class="vg">load</span><span class="w"> </span><span class="s2">&quot;TEST.BAS&quot;</span>
</code></pre></div>
</li>
<li>
<p>Quit BASIC:</p>
<div class="highlight"><pre><span></span><code><span class="vg">system</span>
</code></pre></div>
</li>
<li>
<p>Run the following command to start your BASIC application from the CP/M command prompt.</p>
<div class="highlight"><pre><span></span><code>mbasic test
</code></pre></div>
</li>
</ol>
<p>You can learn more about BASIC from the following BASIC applications included with the Altair emulator:</p>
<ul>
<li><strong>COUNT.BAS</strong> demonstrates how to use the Intel 8080 IO Port 30 to sleep or delay an application for a specific period.</li>
<li><strong>DISKRW.BAS</strong> is a test application that opens and repeatedly reads and writes a text file.</li>
<li><strong>FONT.BAS</strong> shows how to write ASCII characters to the 8x8 LED panels on the Pi Sense HAT or Retro Click.</li>
<li><strong>JSON.BAS</strong> reads weather and pollution data and then publishes JSON data to Azure IoT Central.</li>
<li><strong>LOOPY.BAS</strong> is a test application that generates a lot of messages.</li>
<li><strong>STARTREK.BAS</strong> is a game.</li>
<li><strong>TICTAK.BAS:</strong> A simple game of naughts and crosses.</li>
<li><strong>TIME.BAS</strong> demonstrates how to use the time Intel 8080 IO ports including setting a sleep timer, access to the system tick counter, and local and UTC date and times.</li>
<li><strong>WEATHER.BAS</strong> reads weather and pollution data from Open Weather Map and adds random <a href="https://en.wikipedia.org/wiki/Jitter" target="_blank">jitter</a> to the temperature data at random intervals. The jittered temperature is used for anomaly detection. The weather and pollution data is then streamed to Azure IoT Central at regular intervals.</li>
</ul>
<h2 id="setting-text-colors">Setting text colors<a class="headerlink" href="#setting-text-colors" title="Permanent link">&para;</a></h2>
<p>Text color can be controlled using 4-bit VT220 control characters. For more information, refer to <a href="https://stackoverflow.com/questions/4842424/list-of-ansi-color-escape-sequences">List of ANSI color escape sequences</a>.</p>
<p>The standards implementing terminal colors began with limited (4-bit) options. The table below lists the RGB values of the background and foreground colors used for these by a variety of terminal emulators:</p>
<p><a class="glightbox" href="../img/4-bit-color-chart.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="The image shows 4-bit color chart" src="../img/4-bit-color-chart.png" /></a></p>
<h2 id="use-intel-8080-input-and-output-ports">Use Intel 8080 input and output ports<a class="headerlink" href="#use-intel-8080-input-and-output-ports" title="Permanent link">&para;</a></h2>
<p>The BASIC language has support for Intel 8080 CPU input and output port instructions. The TIME.BAS application:</p>
<ul>
<li>gets the system tick count from port 41</li>
<li>gets the UTC date and time from port 42</li>
<li>gets the local date and time from port 43</li>
<li>and sets a sleep period using output port 30, and then waits on input port 30 for the delay period to expire.</li>
</ul>
<p>For more information about Intel 8080 IO port mappings, refer to <a href="https://github.com/gloveboxes/Altair8800.Emulator.UN-X/wiki#intel-8080-input-and-output-ports" target="_blank">Intel 8080 input and output ports</a>.</p>
<p><a class="glightbox" href="../img/time_app.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="The image shows the time app running" src="../img/time_app.png" /></a></p>
<p>The following BASIC program is the listing of <em>TIME.BAS</em>. The Time app uses color escape codes to control text colors.</p>
<div class="highlight"><pre><span></span><code><span class="nl">10</span><span class="w"> </span><span class="kr">WIDTH</span><span class="w"> </span><span class="il">100</span>
<span class="nl">20</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;====================================================&quot;</span>
<span class="nl">30</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;TIME DEMOS&quot;</span>
<span class="nl">40</span><span class="w"> </span><span class="vg">SECONDS</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span>

<span class="nl">50</span><span class="w"> </span><span class="kr">WHILE</span><span class="w"> </span><span class="il">1</span>
<span class="nl">60</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;===============================================&quot;</span>

<span class="nl">70</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">41</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">160</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[91;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;System tick count: &quot;</span><span class="p">;</span><span class="vg">RSTRING$</span><span class="p">;</span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">80</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">42</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">160</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[92;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;UTC date and time: &quot;</span><span class="p">;</span><span class="vg">RSTRING</span><span class="p">;</span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">90</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">43</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">160</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[94;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;Local date and time: &quot;</span><span class="p">;</span><span class="vg">RSTRING$</span><span class="p">;</span><span class="w"> </span><span class="vg">chr$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>

<span class="nl">130</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">230</span>

<span class="nl">140</span><span class="w"> </span><span class="kr">WEND</span>
<span class="nl">150</span><span class="w"> </span><span class="kr">END</span>

<span class="nl">160</span><span class="w"> </span><span class="c1">REM SUBROUTINE READS STRING DATA FROM PORT UNTIL NULL CHARACTER</span>
<span class="nl">170</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nl">175</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="vg">PORT</span><span class="p">,</span><span class="w"> </span><span class="il">0</span>
<span class="nl">180</span><span class="w"> </span><span class="vg">C</span><span class="o">=</span><span class="kr">INP</span><span class="p">(</span><span class="il">200</span><span class="p">)</span>
<span class="nl">190</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">200</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="vg">C</span><span class="p">)</span>
<span class="nl">210</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">180</span>

<span class="nl">220</span><span class="w"> </span><span class="c1">REM PAUSE FOR N NUMBER OF SECONDS</span>
<span class="nl">230</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Pause&quot;</span><span class="p">;</span><span class="vg">SECONDS</span><span class="o">%</span><span class="p">;</span><span class="s2">&quot;seconds.&quot;</span>
<span class="nl">240</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">30</span><span class="p">,</span><span class="w"> </span><span class="vg">SECONDS</span><span class="o">%</span>
<span class="nl">250</span><span class="w"> </span><span class="kr">WAIT</span><span class="w"> </span><span class="il">30</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">,</span><span class="w"> </span><span class="il">1</span>
<span class="nl">260</span><span class="w"> </span><span class="kr">RETURN</span>
</code></pre></div>
<h3 id="run-the-timebas-application">Run the TIME.BAS application<a class="headerlink" href="#run-the-timebas-application" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>To start Microsoft BASIC, from the CP/M command prompt, enter:</p>
<div class="highlight"><pre><span></span><code>mbasic time
</code></pre></div>
<p>Microsoft BASIC starts and runs the <em>TIME.BAS</em> application. The <em>TIME.BAS</em> application displays the system tick count, along with the local and UTC date and time.</p>
</li>
<li>
<p>Stop the program by selecting <strong>Ctrl+C</strong>.</p>
</li>
</ol>
<h3 id="run-the-weatherbas-application">Run the WEATHER.BAS application<a class="headerlink" href="#run-the-weatherbas-application" title="Permanent link">&para;</a></h3>
<p>The WEATHER.BAS application reads weather and pollution data provided by Open Weather Map. Like the COUNT.BAS application, WEATHER.BAS uses Intel 8080 IO Ports to access the data.</p>
<p><a class="glightbox" href="../img/weather_basic_app.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="This image displays output from the BASIC WEATHER application" src="../img/weather_basic_app.png" /></a></p>
<p>The following BASIC program is the listing of <em>WEATHER.BAS</em>:</p>
<div class="highlight"><pre><span></span><code><span class="nl">100</span><span class="w"> </span><span class="kr">WIDTH</span><span class="w"> </span><span class="il">150</span>
<span class="nl">200</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;====================================================&quot;</span>
<span class="nl">300</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;OPEN WEATHER MAP IOT APP&quot;</span>
<span class="nl">400</span><span class="w"> </span><span class="vg">SECONDS</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<span class="nl">500</span><span class="w"> </span><span class="vg">WEATHERKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">34</span>
<span class="nl">600</span><span class="w"> </span><span class="vg">WEATHERVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">35</span>
<span class="nl">700</span><span class="w"> </span><span class="vg">WEATHERITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">6</span>
<span class="nl">800</span><span class="w"> </span><span class="vg">LOCATIONKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">36</span>
<span class="nl">900</span><span class="w"> </span><span class="vg">LOCATIONVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">37</span>
<span class="nl">1000</span><span class="w"> </span><span class="vg">LOCATIONITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">4</span>
<span class="nl">1100</span><span class="w"> </span><span class="vg">POLLUTIONKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">38</span>
<span class="nl">1200</span><span class="w"> </span><span class="vg">POLLUTIONVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">39</span>
<span class="nl">1300</span><span class="w"> </span><span class="vg">POLLUTIONITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">9</span>
<span class="nl">1400</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;PUBLISH WEATHER DATA TO IOT CENTRAL EVERY&quot;</span><span class="p">;</span><span class="vg">SECONDS</span><span class="o">%</span><span class="p">;</span><span class="s2">&quot;SECONDS&quot;</span>
<span class="nl">1500</span><span class="w"> </span><span class="vg">RCOUNT</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span>
<span class="nl">1600</span><span class="w"> </span><span class="vg">READING#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span>
<span class="nl">1700</span><span class="w"> </span><span class="kr">WHILE</span><span class="w"> </span><span class="il">1</span>
<span class="nl">1800</span><span class="w"> </span><span class="vg">READING#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">READING#</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">1</span>
<span class="nl">1900</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;============================================================================================================================&quot;</span>
<span class="nl">2000</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">43</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4300</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">TIME$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2100</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Reading&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Time&quot;</span>
<span class="nl">2200</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">READING#</span><span class="p">,</span><span class="w">  </span><span class="vg">TIME$</span>
<span class="nl">2300</span><span class="w"> </span><span class="vg">ITEMKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERKEY</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERVALUE</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERITEMS</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">3300</span>
<span class="nl">2400</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">2500</span><span class="w"> </span><span class="vg">ITEMKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">POLLUTIONKEY</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">POLLUTIONVALUE</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">POLLUTIONITEMS</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">3300</span>
<span class="nl">2600</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">2700</span><span class="w"> </span><span class="vg">ITEMKEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">LOCATIONKEY</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMVALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">LOCATIONVALUE</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">ITEMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">LOCATIONITEMS</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">3300</span>
<span class="nl">2800</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">2900</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">5400</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">PUBLISH</span><span class="w"> </span><span class="vg">WEATHER</span><span class="w"> </span><span class="kd">DATA</span>
<span class="nl">3000</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">5000</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="kr">SLEEP</span>
<span class="nl">3100</span><span class="w"> </span><span class="kr">WEND</span>
<span class="nl">3200</span><span class="w"> </span><span class="kr">END</span>
<span class="nl">3300</span><span class="w"> </span><span class="c1">REM PRINT ITEM KEY VALUE PAIRS</span>
<span class="nl">3400</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">3500</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="vg">ITEMS</span>
<span class="nl">3600</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ITEMKEY</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4300</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="p">,</span><span class="w"> </span>
<span class="nl">3700</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="vg">I</span>
<span class="nl">3800</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">3900</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="vg">ITEMS</span>
<span class="nl">4000</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ITEMVALUE</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4300</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="p">,</span><span class="w"> </span>
<span class="nl">4100</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="vg">I</span>
<span class="nl">4200</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">4300</span><span class="w"> </span><span class="c1">REM SUBROUTINE READS STRING DATA FROM PORT UNTIL NULL CHARACTER</span>
<span class="nl">4400</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="vg">PORT</span><span class="p">,</span><span class="w"> </span><span class="vg">PDATA</span>
<span class="nl">4500</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nl">4600</span><span class="w"> </span><span class="vg">C</span><span class="o">=</span><span class="kr">INP</span><span class="p">(</span><span class="il">200</span><span class="p">)</span>
<span class="nl">4700</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">4800</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="vg">C</span><span class="p">)</span>
<span class="nl">4900</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">4600</span>
<span class="nl">5000</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[31;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;Sleep for&quot;</span><span class="p">;</span><span class="w"> </span><span class="vg">SECONDS</span><span class="o">%</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="s2">&quot;seconds.&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">5100</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">30</span><span class="p">,</span><span class="w"> </span><span class="vg">SECONDS</span><span class="o">%</span>
<span class="nl">5200</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="kr">INP</span><span class="p">(</span><span class="il">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">5200</span>
<span class="nl">5300</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">5400</span><span class="w"> </span><span class="c1">REM PUBLISH WEATHER DATA</span>
<span class="nl">5500</span><span class="w"> </span><span class="c1">REM WAIT FOR PUBLISH WEATHER PENDING TO GO FALSE</span>
<span class="nl">5600</span><span class="w"> </span><span class="kr">WAIT</span><span class="w"> </span><span class="il">32</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">,</span><span class="w"> </span><span class="il">1</span>
<span class="nl">5700</span><span class="w"> </span><span class="c1">REM PUBLISH TO IOT CENTRAL WITH JITTER</span>
<span class="nl">5800</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">32</span><span class="p">,</span><span class="w"> </span><span class="il">0</span>
<span class="nl">5900</span><span class="w"> </span><span class="kr">RETURN</span>
</code></pre></div>
<p>When you run this application, weather and pollution data are published to Azure IoT Central. You can view the data in the Azure IoT Central web portal, from the <strong>Pollution</strong> and <strong>Weather</strong> tabs for your device.</p>
<p><a class="glightbox" href="../img/iot-central-device-tabs.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="This image shows an IoT Central chart." src="../img/iot-central-device-tabs.png" /></a></p>
<h2 id="generating-anomaly-weather-data">Generating anomaly weather data<a class="headerlink" href="#generating-anomaly-weather-data" title="Permanent link">&para;</a></h2>
<p>The anomaly app publishes weather data sourced from Open Weather Map to Azure IoT Central. The anomaly app adds random jitter values to the temperature. The jitter values are added to the temperature so you can see the effect of anomalies when using the <a href="https://azure.microsoft.com/services/cognitive-services/anomaly-detector/">Azure Anomaly Detection Cognitive Service</a>.</p>
<p><a class="glightbox" href="../img/anomaly_app.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="The image shows the anomaly basic app running" src="../img/anomaly_app.png" /></a></p>
<div class="highlight"><pre><span></span><code><span class="nl">100</span><span class="w"> </span><span class="kr">WIDTH</span><span class="w"> </span><span class="il">150</span>
<span class="nl">200</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;====================================================&quot;</span>
<span class="nl">300</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;OPEN WEATHER MAP IOT APP&quot;</span>
<span class="nl">400</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">10</span>
<span class="nl">500</span><span class="w"> </span><span class="vg">WEATHERPORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">35</span>
<span class="nl">600</span><span class="w"> </span><span class="vg">LOCATIONPORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">37</span>
<span class="nl">700</span><span class="w"> </span><span class="vg">POLLUTIONPORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">39</span>
<span class="nl">800</span><span class="w"> </span><span class="kr">DEF</span><span class="w"> </span><span class="vg">FNNEXTJITTER</span><span class="p">(</span><span class="vg">ROW#</span><span class="p">,</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ROW#</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="kr">INT</span><span class="p">(</span><span class="kr">RND</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">60</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">180</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span><span class="w"> </span><span class="p">)</span>
<span class="nl">900</span><span class="w"> </span><span class="kr">DEF</span><span class="w"> </span><span class="vg">FNJITTERTEMPERATURE</span><span class="p">(</span><span class="vg">TEMPERATURE$</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">VAL</span><span class="p">(</span><span class="vg">TEMPERATURE$</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">30</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="kr">INT</span><span class="p">(</span><span class="kr">RND</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">20</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Return</span><span class="w"> </span><span class="vg">temperature</span><span class="w"> </span><span class="vg">plus</span><span class="w"> </span><span class="vg">random</span><span class="w"> </span><span class="vg">value</span>
<span class="nl">1000</span><span class="w"> </span><span class="c1">REM GET RANDOM NUMBER SEED FROM PLATFORM</span>
<span class="nl">1100</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">44</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">RANDOMIZE</span><span class="w"> </span><span class="kr">VAL</span><span class="p">(</span><span class="vg">RSTRING$</span><span class="p">)</span>
<span class="nl">1200</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;SEND WEATHER DATA TO IOT CENTRAL EVERY&quot;</span><span class="p">;</span><span class="vg">DELAY</span><span class="o">%</span><span class="p">;</span><span class="s2">&quot;SECONDS&quot;</span>
<span class="nl">1300</span><span class="w"> </span><span class="vg">RCOUNT#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span>
<span class="nl">1400</span><span class="w"> </span><span class="vg">NEXTJITTER#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">FNNEXTJITTER</span><span class="p">(</span><span class="vg">RCOUNT#</span><span class="p">,</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span><span class="p">)</span>
<span class="nl">1500</span><span class="w"> </span><span class="kr">WHILE</span><span class="w"> </span><span class="il">1</span>
<span class="nl">1600</span><span class="w"> </span><span class="vg">RCOUNT#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RCOUNT#</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="il">1</span>
<span class="nl">1700</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;====================================================&quot;</span>
<span class="nl">1800</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[33;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;Reading:&quot;</span><span class="p">;</span><span class="w"> </span><span class="vg">RCOUNT#</span><span class="p">;</span><span class="w"> </span><span class="s2">&quot;| Next jitter:&quot;</span><span class="p">;</span><span class="vg">NEXTJITTER#</span><span class="p">;</span><span class="w"> </span><span class="s2">&quot;| BASIC free memory:&quot;</span><span class="p">;</span><span class="w"> </span><span class="kr">FRE</span><span class="p">(</span><span class="il">0</span><span class="p">);</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">1900</span><span class="w"> </span><span class="c1">REM GET TIME AS STRING</span>
<span class="nl">2000</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">43</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Time (local): &quot;</span><span class="p">;</span><span class="vg">RSTRING$</span>
<span class="nl">2100</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">TEMPERATURE$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2200</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PRESSURE$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2300</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">WEATHERPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">HUMIDITY$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2400</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">POLLUTIONPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">AIRQUALITYINDEX$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2500</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">LOCATIONPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">LATITUDE$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2600</span><span class="w"> </span><span class="vg">PORT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">LOCATIONPORT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">PDATA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">4700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">LONGITUDE$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span>
<span class="nl">2700</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">RCOUNT#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">NEXTJITTER#</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="vg">TEMPERATURE$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">STR$</span><span class="p">(</span><span class="vg">FNJITTERTEMPERATURE</span><span class="p">(</span><span class="vg">TEMPERATURE$</span><span class="p">))</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="vg">NEXTJITTER#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">FNNEXTJITTER</span><span class="p">(</span><span class="vg">RCOUNT#</span><span class="p">,</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span><span class="p">)</span>
<span class="nl">2800</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="s2">&quot;Celsius&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Millibars&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Humidity %&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AQI (CAQI)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Latitude&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Longitude&quot;</span>
<span class="nl">2900</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">TEMPERATURE$</span><span class="p">,</span><span class="w"> </span><span class="vg">PRESSURE$</span><span class="p">,</span><span class="w"> </span><span class="vg">HUMIDITY$</span><span class="p">,</span><span class="w"> </span><span class="vg">AIRQUALITYINDEX$</span><span class="p">,</span><span class="w"> </span><span class="vg">LATITUDE$</span><span class="p">,</span><span class="w"> </span><span class="vg">LONGITUDE$</span>
<span class="nl">3000</span><span class="w"> </span><span class="kr">PRINT</span>
<span class="nl">3100</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">3700</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Generate</span><span class="w"> </span><span class="vg">JSON</span>
<span class="nl">3200</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">5900</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Publish</span><span class="w"> </span><span class="vg">JSON</span>
<span class="nl">3300</span><span class="w"> </span><span class="kr">PRINT</span><span class="o">:</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[31;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;Sleep for&quot;</span><span class="p">;</span><span class="vg">DELAY</span><span class="o">%</span><span class="p">;</span><span class="s2">&quot;seconds.&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">3400</span><span class="w"> </span><span class="kr">GOSUB</span><span class="w"> </span><span class="nl">5400</span>
<span class="nl">3500</span><span class="w"> </span><span class="kr">WEND</span>
<span class="nl">3600</span><span class="w"> </span><span class="kr">END</span>
<span class="nl">3700</span><span class="w"> </span><span class="c1">REM BUILD JSON STRING</span>
<span class="nl">3800</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;{&quot;</span>
<span class="nl">3900</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;temperature&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">TEMPERATURE$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;,&quot;</span>
<span class="nl">4000</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;pressure&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="vg">PRESSURE$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;,&quot;</span>
<span class="nl">4100</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;humidity&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="vg">HUMIDITY$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;,&quot;</span>
<span class="nl">4200</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;latitude&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="vg">LATITUDE$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;,&quot;</span>
<span class="nl">4300</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;longitude&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="vg">LONGITUDE$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;,&quot;</span>
<span class="nl">4400</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;aqi&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">34</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="vg">AIRQUALITYINDEX$</span>
<span class="nl">4500</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RJSON$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;}&quot;</span>
<span class="nl">4600</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">4700</span><span class="w"> </span><span class="c1">REM SUBROUTINE READS STRING DATA FROM PORT UNTIL NULL CHARACTER</span>
<span class="nl">4800</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="vg">PORT</span><span class="p">,</span><span class="w"> </span><span class="vg">PDATA</span>
<span class="nl">4900</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nl">5000</span><span class="w"> </span><span class="vg">C</span><span class="o">=</span><span class="kr">INP</span><span class="p">(</span><span class="il">200</span><span class="p">)</span>
<span class="nl">5100</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">5200</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">RSTRING$</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="vg">C</span><span class="p">)</span>
<span class="nl">5300</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">5000</span>
<span class="nl">5400</span><span class="w"> </span><span class="c1">REM SUBROUTINE DELAYS PROGRAM EXECUTION BY DELAY% SECONDS</span>
<span class="nl">5500</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">30</span><span class="p">,</span><span class="w"> </span><span class="vg">DELAY</span><span class="o">%</span>
<span class="nl">5600</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="kr">INP</span><span class="p">(</span><span class="il">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">GOTO</span><span class="w"> </span><span class="nl">5600</span>
<span class="nl">5700</span><span class="w"> </span><span class="kr">WAIT</span><span class="w"> </span><span class="il">31</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="kr">WAIT</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">PUBLISH</span><span class="w"> </span><span class="vg">JSON</span><span class="w"> </span><span class="vg">PENDING</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="vg">GO</span><span class="w"> </span><span class="vg">FALSE</span>
<span class="nl">5800</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">5900</span><span class="w"> </span><span class="c1">REM SUBROUTINE PUBLISHES JSON TO AZURE IOT</span>
<span class="nl">6000</span><span class="w"> </span><span class="vg">LENGTH</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">LEN</span><span class="p">(</span><span class="vg">RJSON$</span><span class="p">)</span>
<span class="nl">6100</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">LENGTH</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">6200</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="vg">LENGTH</span><span class="o">%</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="il">256</span><span class="w"> </span><span class="kr">THEN</span><span class="w"> </span><span class="kr">RETURN</span>
<span class="nl">6300</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[94;22;24m&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;PUBLISHING JSON TO AZURE IOT&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="il">27</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;[0m&quot;</span>
<span class="nl">6400</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="vg">RJSON$</span>
<span class="nl">6500</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">DATAINDEX</span><span class="o">%</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="vg">LENGTH</span><span class="o">%</span>
<span class="nl">6600</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">31</span><span class="p">,</span><span class="w"> </span><span class="kr">ASC</span><span class="p">(</span><span class="kr">MID$</span><span class="p">(</span><span class="vg">RJSON$</span><span class="p">,</span><span class="w"> </span><span class="vg">DATAINDEX</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">))</span>
<span class="nl">6700</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="vg">DATAINDEX</span><span class="o">%</span>
<span class="nl">6800</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">31</span><span class="p">,</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">TERMINATING</span><span class="w"> </span><span class="vg">NULL</span><span class="w"> </span><span class="vg">CAUSE</span><span class="w"> </span><span class="vg">PUBLISH</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="vg">AZURE</span><span class="w"> </span><span class="vg">IOT</span>
<span class="nl">6900</span><span class="w"> </span><span class="kr">RETURN</span>
</code></pre></div>
<h2 id="font-support">Font support<a class="headerlink" href="#font-support" title="Permanent link">&para;</a></h2>
<p>The following example shows how to use the Intel 8080 IO ports to display characters on the Pi Sense HAT or Retro Click 8x8 LED panels. To understand IO ports, refer to the <a href="https://github.com/gloveboxes/Altair8800.Emulator.UN-X/blob/main/src/io_ports.c">io_ports.c</a> source code.</p>
<div class="highlight"><pre><span></span><code><span class="nl">100</span><span class="w"> </span><span class="c1">REM 8x8 LED Panel Demo</span>
<span class="nl">200</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">80</span><span class="p">,</span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Flip</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="il">8</span><span class="vg">x8</span><span class="w"> </span><span class="vg">LED</span><span class="w"> </span><span class="vg">panel</span><span class="w"> </span><span class="vg">to</span><span class="w"> </span><span class="vg">FONT</span><span class="w"> </span><span class="vg">mode</span>
<span class="nl">300</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">J</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">10</span>
<span class="nl">400</span><span class="w"> </span><span class="kr">FOR</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="il">33</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="il">122</span>
<span class="nl">500</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">81</span><span class="p">,</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="k">MOD</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Cycle</span><span class="w"> </span><span class="vg">font</span><span class="w"> </span><span class="vg">color</span>
<span class="nl">600</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">85</span><span class="p">,</span><span class="w"> </span><span class="vg">I</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Display</span><span class="w"> </span><span class="vg">character</span><span class="w"> </span><span class="vg">on</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="il">8</span><span class="vg">x8</span><span class="w"> </span><span class="vg">LED</span><span class="w"> </span><span class="vg">panel</span>
<span class="nl">700</span><span class="w"> </span><span class="kr">PRINT</span><span class="w"> </span><span class="kr">CHR$</span><span class="p">(</span><span class="vg">I</span><span class="p">)</span>
<span class="nl">800</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">29</span><span class="p">,</span><span class="w"> </span><span class="il">250</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">WAIT</span><span class="w"> </span><span class="il">29</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="p">,</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">REM</span><span class="w"> </span><span class="vg">Pause</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="il">250</span><span class="w"> </span><span class="vg">milliseconds</span>
<span class="nl">900</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="vg">I</span>
<span class="nl">1000</span><span class="w"> </span><span class="kr">NEXT</span><span class="w"> </span><span class="vg">J</span>
<span class="nl">1100</span><span class="w"> </span><span class="kr">OUT</span><span class="w"> </span><span class="il">80</span><span class="p">,</span><span class="il">0</span>
</code></pre></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../01-i8080-IO-Ports/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Intel 8080 IO Ports">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Intel 8080 IO Ports
              </div>
            </div>
          </a>
        
        
          
          <a href="../03-C-programming/" class="md-footer__link md-footer__link--next" aria-label="Next: C Programming">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                C Programming
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - present Microsoft

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.footer", "content.code.copy", "navigation.tabs.sticky", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>